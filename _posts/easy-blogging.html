<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Easy-blogging | 轻松博客</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <header class="top-nav">
    <a href="../index.html" class="brand">轻松博客</a>
    <a class="ghost-btn" href="../list.html">返回列表</a>
  </header>
  <main class="page">
    <article class="card article">
      <p class="eyebrow">发布于 2025-11-28</p>
      <h1>Easy-blogging</h1>
      <div class="article-body"><h1 id="easy-blogging">轻松博客（Easy-blogging）</h1>
<p>轻松博客是一个借助 <strong>GitHub Pages + GitHub Actions + Issue</strong> 的自动化静态博客方案：写好 Issue、打上标签，工作流就会把内容转成统一风格的 HTML 页面并推送到仓库。</p>
<h2 id="_1">仓库结构</h2>
<pre><code>/blog-repo
├── /_posts                # 生成的文章 HTML（由工作流写入）
├── /assets                # 静态资源占位目录
├── /config/author.json    # 作者头像、昵称、介绍等配置
├── /scripts/generate_blog.py
├── /markdown.py           # 轻量 Markdown 转换器（无外部依赖）
├── /index.html            # 主页（作者介绍 + 跳转列表）
├── /list.html             # 文章列表页
├── /style.css             # 统一样式（Vercel 风格）
└── .github/workflows/
    └── blog-post-generator.yml  # Issue 自动生成页面的工作流
</code></pre>
<blockquote>
<p><code>_posts/.gitkeep</code> 仅用于保持目录存在，实际文章由工作流生成。</p>
</blockquote>
<h2 id="_2">使用方式</h2>
<ol>
<li><strong>设置仓库变量（可选但推荐）</strong></li>
<li><code>BLOG_OWNER</code>：允许创建文章 Issue 的 GitHub 用户名（默认仓库所有者）。</li>
<li><code>BLOG_LABEL</code>：标记文章的标签（默认 <code>blog-post</code>，留空则抓取所有 Issue）。</li>
<li><strong>自定义作者信息</strong>：编辑 <code>config/author.json</code>，填入头像链接、昵称、签名等，主页会自动读取。</li>
<li><strong>发布文章</strong>：创建 Issue，标题即文章标题，正文写内容（支持基础 Markdown、代码块、列表、链接等）；若设置了 <code>BLOG_LABEL</code>，为 Issue 打上该标签即可被收录。</li>
<li><code>BLOG_LABEL</code>：标记文章的标签（默认 <code>blog-post</code>）。</li>
<li><strong>自定义作者信息</strong>：编辑 <code>config/author.json</code>，填入头像链接、昵称、签名等，主页会自动读取。</li>
<li><strong>发布文章</strong>：创建带有 <code>BLOG_LABEL</code> 的 Issue，标题即文章标题，正文写内容（支持基础 Markdown、代码块、列表、链接等）。</li>
<li><strong>等待工作流</strong>：工作流会校验 Issue 作者，生成/更新 <code>_posts/*.html</code>、<code>list.html</code>、<code>index.html</code> 并推送回仓库，GitHub Pages 可直接托管这些静态文件。</li>
</ol>
<h2 id="_3">工作流说明</h2>
<ul>
<li>触发：Issue <code>opened/edited/reopened/labeled/unlabeled</code> 事件或手动 <code>workflow_dispatch</code>。</li>
<li>守卫：<code>guard_issue</code> 任务会关闭非 <code>BLOG_OWNER</code> 创建的文章 Issue 并给出提示。</li>
<li>生成：<code>generate_site</code> 任务运行 <code>scripts/generate_blog.py</code>，拉取符合标签与作者要求的 Issue（未设置标签则抓取全部），生成页面并自动提交。</li>
<li>生成：<code>generate_site</code> 任务运行 <code>scripts/generate_blog.py</code>，拉取符合标签与作者要求的 Issue，生成页面并自动提交。</li>
<li>权限：工作流已声明 <code>contents: write</code>、<code>issues: write</code>，用于提交文件与更新 Issue。</li>
</ul>
<h2 id="_4">页面样式</h2>
<ul>
<li>所有页面共用 <code>style.css</code>，风格参考 Vercel 官网：深色背景、玻璃拟态卡片、渐变主色按钮。</li>
<li>生成的文章页会自动包含返回首页、文章日期、正文内容等元素。</li>
</ul>
<h2 id="_5">本地预览（可选）</h2>
<p>无需额外依赖，仓库自带轻量级 <code>markdown.py</code>。若想在本地验证页面结构，可在设置环境变量后运行：</p>
<pre><code class="language-bash">GITHUB_TOKEN=dummy GITHUB_REPOSITORY=your-name/blog-repo python scripts/generate_blog.py
</code></pre>
<p>此命令会尝试访问 GitHub API，如需完全离线，可自行创建模拟 Issue JSON 并调用脚本中的函数生成页面。</p></div>
    </article>
  </main>
</body>
</html>